(window.webpackJsonp=window.webpackJsonp||[]).push([[23,7],{319:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(57),r(78);var n=function(){if("undefined"!=typeof window&&window.location.hostname.includes("payoor"))return"https://api.payoor.store";return"http://localhost"}()},321:function(e,t,r){"use strict";var n=r(1),o=r(215).trim;n({target:"String",proto:!0,forced:r(322)("trim")},{trim:function(){return o(this)}})},322:function(e,t,r){"use strict";var n=r(99).PROPER,o=r(4),d=r(216);e.exports=function(e){return o((function(){return!!d[e]()||"​᠎"!=="​᠎"[e]()||n&&d[e].name!==e}))}},398:function(e,t,r){var content=r(431);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(125).default)("6ed9319a",content,!0,{sourceMap:!1})},430:function(e,t,r){"use strict";r(398)},431:function(e,t,r){var n=r(124)((function(i){return i[1]}));n.push([e.i,'*[data-v-5f5f311b],[data-v-5f5f311b]:after,[data-v-5f5f311b]:before{box-sizing:inherit;margin:0;padding:0}html[data-v-5f5f311b]{background:#249b48;font-size:62.5%}@media only screen and (max-width:75em){html[data-v-5f5f311b]{font-size:56.25%}}@media only screen and (max-width:56.25em){html[data-v-5f5f311b]{font-size:55%}}@media only screen and (max-width:37.5em){html[data-v-5f5f311b]{font-size:50%}}@media only screen and (min-width:112.5em){html[data-v-5f5f311b]{font-size:65%}}body[data-v-5f5f311b]{background:#249b48;box-sizing:border-box;display:none;font-family:"Poppins",sans-serif}@media only screen and (max-width:56.25em){body[data-v-5f5f311b]{padding:0}}[data-v-5f5f311b]::-moz-selection{background-color:#249b48;color:#fff}[data-v-5f5f311b]::selection{background-color:#249b48;color:#fff}[data-v-5f5f311b]::-webkit-scrollbar{height:8px;width:8px}[data-v-5f5f311b]::-webkit-scrollbar-track{background:transparent}[data-v-5f5f311b]::-webkit-scrollbar-thumb{background-color:#249b48;border:none;border-radius:10px}[data-v-5f5f311b]::-webkit-scrollbar-thumb:hover{background-color:#1a7235}*[data-v-5f5f311b]{scrollbar-color:#249b48 transparent;scrollbar-width:thin}@keyframes slideFadeInUp-5f5f311b{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slide-in-left-5f5f311b{0%{opacity:0;transform:translateX(-100%)}to{opacity:1;transform:translateX(0)}}@keyframes float-5f5f311b{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.slide-in-left[data-v-5f5f311b]{animation:slide-in-left-5f5f311b .5s ease-out forwards}.button-primary[data-v-5f5f311b]{background:#249b48;border:none;border-radius:1rem;color:#fff;font-weight:500;outline:none;padding:1rem}.transparent-button[data-v-5f5f311b]{background:transparent;border:1px solid #249b48;color:#249b48}.disabled-btn[data-v-5f5f311b]{opacity:.4}.floating-element[data-v-5f5f311b]{animation:float-5f5f311b 3s ease-in-out infinite;animation-delay:0s;transition:transform .2s ease}.no-scroll[data-v-5f5f311b]{height:100vh!important;overflow:hidden!important}.spinner[data-v-5f5f311b]{animation:spin-5f5f311b 1s linear infinite;border:4px solid rgba(36,155,72,.3);height:3rem;width:3rem}.spinner.path[data-v-5f5f311b]{stroke:#249b48;stroke-linecap:round}.spinner[data-v-5f5f311b]{animation:spin-5f5f311b .6s linear infinite;border:2px solid #ccc;border-radius:50%;border-top-color:#249b48;display:inline-block;height:16px;margin-right:.4rem;width:16px}@keyframes spin-5f5f311b{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.search-bar[data-v-5f5f311b]{margin-bottom:1.5rem}.search-bar input[type=text][data-v-5f5f311b]{border:1px solid #ccc;border-radius:.4rem;font-size:1.2rem;outline:none;padding:.8rem 1rem;width:100%}.admin-dashboard[data-v-5f5f311b]{background:#fff;min-height:100vh;overflow-x:auto;padding:2rem}.add-product-form[data-v-5f5f311b]{background:#fff;border:1px solid #ddd;border-radius:1rem;box-shadow:0 0 15px rgba(0,0,0,.2);left:50%;max-width:600px;padding:2rem;position:fixed;top:10%;transform:translateX(-50%);width:90%;z-index:999}.add-product-form div[data-v-5f5f311b],.add-product-form h2[data-v-5f5f311b]{margin-bottom:1rem}.add-product-form input[type=file][data-v-5f5f311b],.add-product-form textarea[data-v-5f5f311b]{font-size:1.2rem;padding:.8rem;resize:vertical;width:100%}.add-product-form button[data-v-5f5f311b]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.2rem;margin-right:1rem;padding:.6rem 1.2rem}.add-product-form-overlay[data-v-5f5f311b]{background:rgba(0,0,0,.6);height:100vh;left:0;position:fixed;top:0;width:100vw}.add-product-form span.loading-text[data-v-5f5f311b]{color:#888;display:inline-block;font-size:.95rem;margin-top:.5rem}.dashboard-header[data-v-5f5f311b]{align-items:center;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1.5rem}.dashboard-header h1[data-v-5f5f311b]{font-size:2rem;font-weight:700;margin:0}.dashboard-header .dashboard-actions[data-v-5f5f311b]{display:flex;gap:1rem}.dashboard-header .dashboard-actions button[data-v-5f5f311b]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.2rem;padding:.6rem 1.2rem}.dashboard-header .dashboard-actions button[data-v-5f5f311b]:last-child{background:#dc3545}.product-table[data-v-5f5f311b]{border-collapse:collapse;font-size:1.3rem;width:100%}.product-table td[data-v-5f5f311b],.product-table th[data-v-5f5f311b]{border:1px solid #ddd;padding:.8rem;text-align:left;vertical-align:top}.product-table th[data-v-5f5f311b]{background-color:#f4f4f4;font-weight:700}.product-table textarea[data-v-5f5f311b]{border:none;font-family:inherit;min-height:3rem;outline:none;resize:vertical}.product-table input[type=checkbox][data-v-5f5f311b],.product-table input[type=number][data-v-5f5f311b],.product-table input[type=text][data-v-5f5f311b],.product-table textarea[data-v-5f5f311b]{font-size:1.2rem;padding:.4rem;width:100%}.product-table button[data-v-5f5f311b]{border:none;border-radius:.3rem;cursor:pointer;font-size:1.2rem;margin-right:.5rem;margin-top:.3rem;padding:.5rem 1rem}.product-thumb[data-v-5f5f311b]{border-radius:.5rem;height:2rem;-o-object-fit:cover;object-fit:cover;width:2rem}.variant-list[data-v-5f5f311b]{background:#fafafa;border:1px solid #eee;border-radius:.5rem;padding:1rem}.variant-list .variant-row[data-v-5f5f311b]{align-items:center;display:flex;font-size:1.2rem;gap:2rem;margin-bottom:1rem}.variant-list .variant-row div[data-v-5f5f311b]{display:flex;flex-direction:column}.variant-list .variant-row label[data-v-5f5f311b]{color:#444;font-size:.9rem;margin-bottom:.3rem}.pagination-nav[data-v-5f5f311b]{align-items:center;display:flex;gap:1rem;justify-content:center;margin:2rem 0}.pagination-nav button[data-v-5f5f311b]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.1rem;padding:.5rem 1rem}.pagination-nav button[data-v-5f5f311b]:disabled{background:#ccc;cursor:not-allowed}.pagination-nav span[data-v-5f5f311b]{font-size:1.2rem;font-weight:500}',""]),n.locals={},e.exports=n},453:function(e,t,r){"use strict";r.r(t);r(98),r(79),r(58);var n=r(33),o=r(14),d=(r(45),r(158),r(44),r(46),r(96),r(97),r(43),r(22),r(60),r(37),r(321),r(56),r(38),r(218),r(77),r(319));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"AdminDashboard",data:function(){return{products:[],showAddProductForm:!1,newProduct:{name:"",generatedDescription:"",generatedCategoriesString:"",image:""},imageUploading:!1,variantImageUploading:{},productSubmitting:!1,searchQuery:"",page:1,limit:10,totalPages:1}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchProducts();case 2:case"end":return t.stop()}}),t)})))()},watch:{searchQuery:function(){this.page=1,this.fetchProducts()}},methods:{getAuthHeaders:function(){var e=localStorage.getItem("admin_token");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}},prevPage:function(){this.page>1&&(this.page--,this.fetchProducts())},nextPage:function(){this.page<this.totalPages&&(this.page++,this.fetchProducts())},onSearchInput:function(){console.log("Search:",this.searchQuery)},handleImageUpload:function(e){var t=this,r=e.target.files[0];if(r){var n=new FormData;n.append("image",r),this.imageUploading=!0,fetch("".concat(d.a,"/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("admin_token"))},body:n}).then((function(e){return e.json()})).then((function(data){data.url?t.newProduct.image=data.url:alert("Failed to upload image"),t.imageUploading=!1})).catch((function(e){console.error("Image upload error:",e),alert("Image upload failed"),t.imageUploading=!1}))}},submitNewProduct:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,image,f,m,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.newProduct,n=r.name,o=r.generatedDescription,c=r.generatedCategoriesString,image=r.image,f=c.split(",").map((function(e){return e.trim()})),n&&image){t.next=5;break}return alert("Name and image are required"),t.abrupt("return");case 5:return e.productSubmitting=!0,t.prev=6,t.next=9,fetch("".concat(d.a,"/admin/create-product"),{method:"POST",headers:e.getAuthHeaders(),body:JSON.stringify({name:n,generatedDescription:o,generatedCategories:f,image:image})});case 9:return m=t.sent,t.next=12,m.json();case 12:if(!(data=t.sent).error){t.next=15;break}return t.abrupt("return",alert(data.error));case 15:e.products.unshift(l(l({},data.product),{},{generatedCategoriesString:data.product.generatedCategories.join(", "),showVariants:!1,showAddVariantForm:!1,newVariant:{unit:"",price:0,availability:""}})),e.newProduct={name:"",generatedDescription:"",generatedCategoriesString:"",image:""},e.showAddProductForm=!1,t.next=24;break;case 20:t.prev=20,t.t0=t.catch(6),console.error("Add product error:",t.t0),alert("Failed to create product");case 24:return t.prev=24,e.productSubmitting=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[6,20,24,27]])})))()},logout:function(){localStorage.removeItem("admin_token"),this.$router.push("/admin/login")},fetchProducts:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new URLSearchParams({search:e.searchQuery,page:e.page,limit:e.limit}).toString(),t.next=4,fetch("".concat(d.a,"/admin/products-with-variants?").concat(r),{headers:e.getAuthHeaders()});case 4:return n=t.sent,t.next=7,n.json();case 7:data=t.sent,e.products=(data.products||[]).map((function(p){return l(l({},p),{},{showVariants:!1,showAddVariantForm:!1,newVariant:{unit:"",price:0,availability:""},generatedCategoriesString:(p.generatedCategories||[]).join(", ")})})),e.totalPages=data.pages||1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error loading products:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},formatDate:function(e){return new Date(e).toLocaleDateString()},toggleVariants:function(e){this.products[e].showVariants=!this.products[e].showVariants},deleteProduct:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm("Are you sure you want to delete this product and its variants?")){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,fetch("".concat(d.a,"/admin/delete-product/").concat(e),{method:"DELETE",headers:t.getAuthHeaders()});case 5:r.sent.ok?t.products=t.products.filter((function(p){return p._id!==e})):alert("Failed to delete product"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),console.error("Delete product error:",r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},deleteVariant:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm("Delete this variant?")){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,fetch("".concat(d.a,"/admin/delete-variant/").concat(t._id),{method:"DELETE",headers:r.getAuthHeaders()});case 5:n.sent.ok?(e.variants=e.variants.filter((function(e){return e._id!==t._id})),e.variantCount--):alert("Failed to delete variant"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Delete variant error:",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},saveProduct:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n={name:e.name,image:e.image,generatedDescription:e.generatedDescription,generatedCategories:e.generatedCategoriesString.split(",").map((function(e){return e.trim()})),synced_to_algolia:e.synced_to_algolia},r.next=4,fetch("".concat(d.a,"/admin/update-product/").concat(e._id),{method:"PUT",headers:t.getAuthHeaders(),body:JSON.stringify(n)});case 4:if((o=r.sent).ok){r.next=10;break}return r.next=8,o.json();case 8:c=r.sent,alert(c.error||"Failed to update product");case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error("Update error:",r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},saveVariant:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={unit:t.unit,price:t.price,availability:t.availability,image:t.image||""},e.next=4,fetch("".concat(d.a,"/admin/update-variant/").concat(t._id),{method:"PUT",headers:r.getAuthHeaders(),body:JSON.stringify(n)});case 4:if((o=e.sent).ok){e.next=10;break}return e.next=8,o.json();case 8:c=e.sent,alert(c.error||"Failed to update variant");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Variant update error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},handleVariantImageUpload:function(e,t){var r=this,n=t.target.files[0];if(n){var o=new FormData;o.append("image",n),this.$set(this.variantImageUploading,e._id,!0),fetch("".concat(d.a,"/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("admin_token"))},body:o}).then((function(e){return e.json()})).then((function(data){data.url?e.newVariant.image=data.url:alert("Failed to upload variant image"),r.$set(r.variantImageUploading,e._id,!1)})).catch((function(t){console.error("Variant image upload error:",t),alert("Variant image upload failed"),r.$set(r.variantImageUploading,e._id,!1)}))}},submitNewVariant:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,image,f,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.newVariant,o=n.unit,c=n.price,l=n.availability,image=n.image,o&&c&&l&&image){r.next=4;break}return alert("Please fill all fields and upload an image."),r.abrupt("return");case 4:return r.prev=4,r.next=7,fetch("".concat(d.a,"/admin/add-variant/").concat(e._id),{method:"POST",headers:t.getAuthHeaders(),body:JSON.stringify({unit:o,price:c,availability:l,image:image})});case 7:return f=r.sent,r.next=10,f.json();case 10:if(!(data=r.sent).error){r.next=13;break}return r.abrupt("return",alert(data.error));case 13:alert("variant added"),e.showAddVariantForm=!1,r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),console.error("Add variant error:",r.t0),alert("Failed to add variant");case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()}}},m=(r(430),r(55)),component=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"admin-dashboard"},[t("div",{staticClass:"dashboard-header"},[t("h1",[e._v("Admin Dashboard")]),e._v(" "),t("div",{staticClass:"dashboard-actions"},[t("button",{on:{click:function(t){e.showAddProductForm=!0}}},[e._v("Add Product")]),e._v(" "),t("button",{on:{click:e.logout}},[e._v("Logout")])])]),e._v(" "),t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search products by name..."},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.fetchProducts]}})]),e._v(" "),e.showAddProductForm?t("div",{staticClass:"add-product-form-overlay"},[t("div",{staticClass:"add-product-form"},[t("h2",[e._v("Add New Product")]),e._v(" "),t("div",[t("label",[e._v("Name")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.name,expression:"newProduct.name"}],domProps:{value:e.newProduct.name},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"name",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Description")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.generatedDescription,expression:"newProduct.generatedDescription"}],domProps:{value:e.newProduct.generatedDescription},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"generatedDescription",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Categories (comma separated)")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.generatedCategoriesString,expression:"newProduct.generatedCategoriesString"}],domProps:{value:e.newProduct.generatedCategoriesString},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"generatedCategoriesString",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Upload Image")]),e._v(" "),t("input",{attrs:{type:"file"},on:{change:e.handleImageUpload}}),e._v(" "),e.imageUploading?t("span",{staticClass:"loading-text"},[t("span",{staticClass:"spinner"}),e._v(" Uploading image...\n                ")]):e._e()]),e._v(" "),t("div",[t("button",{attrs:{disabled:e.imageUploading||e.productSubmitting},on:{click:e.submitNewProduct}},[e.productSubmitting?t("span",{staticClass:"spinner"}):e._e(),e._v("\n                    "+e._s(e.productSubmitting?"Submitting...":"Submit")+"\n                ")]),e._v(" "),t("button",{on:{click:function(t){e.showAddProductForm=!1}}},[e._v("Cancel")])])])]):e._e(),e._v(" "),t("table",{staticClass:"product-table"},[e._m(0),e._v(" "),t("tbody",[e._l(e.products,(function(r,n){return[t("tr",[t("td",[t("img",{staticClass:"product-thumb",attrs:{src:r.image||"/imgs/placeholder.png"}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.name,expression:"product.name"}],domProps:{value:r.name},on:{input:function(t){t.target.composing||e.$set(r,"name",t.target.value)}}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.generatedDescription,expression:"product.generatedDescription"}],domProps:{value:r.generatedDescription},on:{input:function(t){t.target.composing||e.$set(r,"generatedDescription",t.target.value)}}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.generatedCategoriesString,expression:"product.generatedCategoriesString"}],domProps:{value:r.generatedCategoriesString},on:{input:function(t){t.target.composing||e.$set(r,"generatedCategoriesString",t.target.value)}}})]),e._v(" "),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:r.synced_to_algolia,expression:"product.synced_to_algolia"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(r.synced_to_algolia)?e._i(r.synced_to_algolia,null)>-1:r.synced_to_algolia},on:{change:function(t){var n=r.synced_to_algolia,o=t.target,d=!!o.checked;if(Array.isArray(n)){var c=e._i(n,null);o.checked?c<0&&e.$set(r,"synced_to_algolia",n.concat([null])):c>-1&&e.$set(r,"synced_to_algolia",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(r,"synced_to_algolia",d)}}})]),e._v(" "),t("td",[e._v(e._s(r.variantCount))]),e._v(" "),t("td",[e._v(e._s(e.formatDate(r.createdAt)))]),e._v(" "),t("td",[e._v(e._s(e.formatDate(r.updatedAt)))]),e._v(" "),t("td",[t("button",{on:{click:function(t){return e.toggleVariants(n)}}},[e._v("\n                            "+e._s(r.showVariants?"Hide Variants":"Show Variants")+"\n                        ")]),e._v(" "),t("button",{attrs:{disabled:r.isSaving},on:{click:function(t){return e.saveProduct(r)}}},[r.isSaving?t("span",{staticClass:"spinner"}):e._e(),e._v(" Save\n                        ")]),e._v(" "),t("button",{on:{click:function(t){return e.deleteProduct(r._id)}}},[e._v("Delete")])])]),e._v(" "),r.showVariants?t("tr",[t("td",{attrs:{colspan:"9"}},[t("div",{staticClass:"variant-list"},[e._l(r.variants,(function(n){return t("div",{key:n._id,staticClass:"variant-row"},[t("div",[t("label",[e._v("Unit")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.unit,expression:"variant.unit"}],domProps:{value:n.unit},on:{input:function(t){t.target.composing||e.$set(n,"unit",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Price")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.price,expression:"variant.price",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:n.price},on:{input:function(t){t.target.composing||e.$set(n,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",[e._v("Availability")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.availability,expression:"variant.availability"}],domProps:{value:n.availability},on:{input:function(t){t.target.composing||e.$set(n,"availability",t.target.value)}}})]),e._v(" "),t("div",[t("button",{on:{click:function(t){return e.deleteVariant(r,n)}}},[e._v("Delete Variant")])]),e._v(" "),t("div",[t("button",{attrs:{disabled:n.isSaving},on:{click:function(t){return e.saveVariant(r._id,n)}}},[n.isSaving?t("span",{staticClass:"spinner"}):e._e(),e._v(" Save\n                                    ")])])])})),e._v(" "),t("button",{on:{click:function(e){r.showAddVariantForm=!r.showAddVariantForm}}},[e._v("\n                                "+e._s(r.showAddVariantForm?"Cancel":"Add New Variant")+"\n                            ")]),e._v(" "),r.showAddVariantForm?t("div",{staticClass:"add-variant-form"},[t("h4",[e._v("Add New Variant")]),e._v(" "),t("div",{staticClass:"variant-row"},[t("div",[t("label",[e._v("Unit")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.newVariant.unit,expression:"product.newVariant.unit"}],domProps:{value:r.newVariant.unit},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"unit",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Price")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.newVariant.price,expression:"product.newVariant.price",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:r.newVariant.price},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",[e._v("Availability")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.newVariant.availability,expression:"product.newVariant.availability"}],domProps:{value:r.newVariant.availability},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"availability",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Upload Image")]),e._v(" "),t("input",{attrs:{type:"file"},on:{change:function(t){return e.handleVariantImageUpload(r,t)}}}),e._v(" "),e.variantImageUploading[r._id]?t("span",{staticClass:"loading-text"},[t("span",{staticClass:"spinner"}),e._v(" Uploading image...\n                                        ")]):e._e()]),e._v(" "),t("div",[t("button",{attrs:{disabled:e.variantImageUploading[r._id]},on:{click:function(t){return e.submitNewVariant(r)}}},[e._v("\n                                            Submit\n                                        ")])])])]):e._e()],2)])]):e._e()]}))],2)]),e._v(" "),t("div",{staticClass:"pagination-nav"},[t("button",{attrs:{disabled:e.page<=1},on:{click:e.prevPage}},[e._v("Previous")]),e._v(" "),t("span",[e._v("Page "+e._s(e.page)+" of "+e._s(e.totalPages))]),e._v(" "),t("button",{attrs:{disabled:e.page>=e.totalPages},on:{click:e.nextPage}},[e._v("Next")])])])}),[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Image")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Description")]),e._v(" "),t("th",[e._v("Categories")]),e._v(" "),t("th",[e._v("Synced")]),e._v(" "),t("th",[e._v("Variant Count")]),e._v(" "),t("th",[e._v("Created")]),e._v(" "),t("th",[e._v("Updated")]),e._v(" "),t("th",[e._v("Actions")])])])}],!1,null,"5f5f311b",null);t.default=component.exports}}]);
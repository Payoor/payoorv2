(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{325:function(e,t,r){"use strict";var n=r(1),o=r(216).trim;n({target:"String",proto:!0,forced:r(330)("trim")},{trim:function(){return o(this)}})},330:function(e,t,r){"use strict";var n=r(101).PROPER,o=r(4),d=r(217);e.exports=function(e){return o((function(){return!!d[e]()||"​᠎"!=="​᠎"[e]()||n&&d[e].name!==e}))}},397:function(e,t,r){var content=r(446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(126).default)("ab39d646",content,!0,{sourceMap:!1})},445:function(e,t,r){"use strict";r(397)},446:function(e,t,r){var n=r(125)((function(i){return i[1]}));n.push([e.i,'*[data-v-1f53ebec],[data-v-1f53ebec]:after,[data-v-1f53ebec]:before{box-sizing:inherit;margin:0;padding:0}html[data-v-1f53ebec]{background:#249b48;font-size:62.5%}@media only screen and (max-width:75em){html[data-v-1f53ebec]{font-size:56.25%}}@media only screen and (max-width:56.25em){html[data-v-1f53ebec]{font-size:55%}}@media only screen and (max-width:37.5em){html[data-v-1f53ebec]{font-size:50%}}@media only screen and (min-width:112.5em){html[data-v-1f53ebec]{font-size:65%}}body[data-v-1f53ebec]{background:#249b48;box-sizing:border-box;display:none;font-family:"Poppins",sans-serif}@media only screen and (max-width:56.25em){body[data-v-1f53ebec]{padding:0}}[data-v-1f53ebec]::-moz-selection{background-color:#249b48;color:#fff}[data-v-1f53ebec]::selection{background-color:#249b48;color:#fff}[data-v-1f53ebec]::-webkit-scrollbar{height:8px;width:8px}[data-v-1f53ebec]::-webkit-scrollbar-track{background:transparent}[data-v-1f53ebec]::-webkit-scrollbar-thumb{background-color:#249b48;border:none;border-radius:10px}[data-v-1f53ebec]::-webkit-scrollbar-thumb:hover{background-color:#1a7235}*[data-v-1f53ebec]{scrollbar-color:#249b48 transparent;scrollbar-width:thin}@keyframes slideFadeInUp-1f53ebec{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slide-in-left-1f53ebec{0%{opacity:0;transform:translateX(-100%)}to{opacity:1;transform:translateX(0)}}@keyframes float-1f53ebec{0%{transform:translateY(0)}50%{transform:translateY(-10px)}to{transform:translateY(0)}}.slide-in-left[data-v-1f53ebec]{animation:slide-in-left-1f53ebec .5s ease-out forwards}.button-primary[data-v-1f53ebec]{background:#249b48;border:none;border-radius:1rem;color:#fff;font-weight:500;outline:none;padding:1rem}.transparent-button[data-v-1f53ebec]{background:transparent;border:1px solid #249b48;color:#249b48}.disabled-btn[data-v-1f53ebec]{opacity:.4}.floating-element[data-v-1f53ebec]{animation:float-1f53ebec 3s ease-in-out infinite;animation-delay:0s;transition:transform .2s ease}.no-scroll[data-v-1f53ebec]{height:100vh!important;overflow:hidden!important}.spinner[data-v-1f53ebec]{animation:spin-1f53ebec 1s linear infinite;border:4px solid rgba(36,155,72,.3);height:3rem;width:3rem}.spinner.path[data-v-1f53ebec]{stroke:#249b48;stroke-linecap:round}.blur-effect[data-v-1f53ebec]{filter:blur(3px)}.error-message[data-v-1f53ebec]{animation:slideFadeInUp-1f53ebec .5s ease-out forwards;background:#fff;border-radius:1rem;color:red;font-size:1.3rem;font-weight:500;line-height:2.1rem;margin:2rem 16px;padding:1rem 3rem;position:fixed;top:3rem;z-index:30}.error-message-timeout-bar[data-v-1f53ebec]{background-color:#249b48;bottom:0;height:4px;left:0;position:absolute;transition:width 4s linear;width:100%}.landing[data-v-1f53ebec]{overflow-x:hidden}.landing__top[data-v-1f53ebec]{background:#b6edf2;display:grid;grid-template-columns:repeat(2,1fr);height:100vh;left:0;position:fixed;top:0;width:100%}@media only screen and (max-width:56.25em){.landing__top[data-v-1f53ebec]{display:flex}}.landing__topleft[data-v-1f53ebec]{display:flex;justify-content:center}@media only screen and (max-width:56.25em){.landing__topleft[data-v-1f53ebec]{display:block;width:100%}}.landing__topleft--auth[data-v-1f53ebec]{padding:0 10rem;width:100rem}@media only screen and (max-width:56.25em){.landing__topleft--auth[data-v-1f53ebec]{padding:0;width:auto}}.landing__topright[data-v-1f53ebec],.landing__topright--img[data-v-1f53ebec]{align-items:center;display:flex;justify-content:center}.landing__topright--img[data-v-1f53ebec]{transform:scale(1.1);width:100rem}.landing__topright--img img[data-v-1f53ebec]{height:100%;-o-object-fit:contain;object-fit:contain;width:100%}@media only screen and (max-width:56.25em){.landing__topright[data-v-1f53ebec]{display:none}}.landing__content[data-v-1f53ebec]{background:#249b48;margin-top:90rem;position:relative}.landing__seemore[data-v-1f53ebec]{bottom:10rem;display:flex;justify-content:center;left:0;position:absolute;width:100%}.landing__seemore button[data-v-1f53ebec]{background:transparent;border:1px solid #fff;border-radius:3rem;color:#fff;cursor:pointer;font-size:1.4rem;font-weight:600;padding:1rem 4rem}.landing__cloud[data-v-1f53ebec]{bottom:0;height:34rem;position:absolute;transform:scale(1.1);width:100vw;z-index:3}.landing__cloud img[data-v-1f53ebec]{height:100%;-o-object-fit:cover;object-fit:cover;width:100%}.spinner[data-v-1f53ebec]{animation:spin-1f53ebec .6s linear infinite;border:2px solid #ccc;border-radius:50%;border-top-color:#249b48;display:inline-block;height:16px;margin-right:.4rem;width:16px}@keyframes spin-1f53ebec{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.search-bar[data-v-1f53ebec]{margin-bottom:1.5rem}.search-bar input[type=text][data-v-1f53ebec]{border:1px solid #ccc;border-radius:.4rem;font-size:1.2rem;outline:none;padding:.8rem 1rem;width:100%}.admin-dashboard[data-v-1f53ebec]{background:#fff;min-height:100vh;overflow-x:auto;padding:2rem}.add-product-form[data-v-1f53ebec]{background:#fff;border:1px solid #ddd;border-radius:1rem;box-shadow:0 0 15px rgba(0,0,0,.2);left:50%;max-width:600px;padding:2rem;position:fixed;top:10%;transform:translateX(-50%);width:90%;z-index:999}.add-product-form div[data-v-1f53ebec],.add-product-form h2[data-v-1f53ebec]{margin-bottom:1rem}.add-product-form input[type=file][data-v-1f53ebec],.add-product-form textarea[data-v-1f53ebec]{font-size:1.2rem;padding:.8rem;resize:vertical;width:100%}.add-product-form button[data-v-1f53ebec]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.2rem;margin-right:1rem;padding:.6rem 1.2rem}.add-product-form-overlay[data-v-1f53ebec]{background:rgba(0,0,0,.6);height:100vh;left:0;position:fixed;top:0;width:100vw}.add-product-form span.loading-text[data-v-1f53ebec]{color:#888;display:inline-block;font-size:.95rem;margin-top:.5rem}.dashboard-header[data-v-1f53ebec]{align-items:center;border-bottom:1px solid #ccc;display:flex;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1.5rem}.dashboard-header h1[data-v-1f53ebec]{font-size:2rem;font-weight:700;margin:0}.dashboard-header .dashboard-actions[data-v-1f53ebec]{display:flex;gap:1rem}.dashboard-header .dashboard-actions button[data-v-1f53ebec]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.2rem;padding:.6rem 1.2rem}.dashboard-header .dashboard-actions button[data-v-1f53ebec]:last-child{background:#dc3545}.product-table[data-v-1f53ebec]{border-collapse:collapse;font-size:1.3rem;width:100%}.product-table td[data-v-1f53ebec],.product-table th[data-v-1f53ebec]{border:1px solid #ddd;padding:.8rem;text-align:left;vertical-align:top}.product-table th[data-v-1f53ebec]{background-color:#f4f4f4;font-weight:700}.product-table textarea[data-v-1f53ebec]{border:none;font-family:inherit;min-height:3rem;outline:none;resize:vertical}.product-table input[type=checkbox][data-v-1f53ebec],.product-table input[type=number][data-v-1f53ebec],.product-table input[type=text][data-v-1f53ebec],.product-table textarea[data-v-1f53ebec]{font-size:1.2rem;padding:.4rem;width:100%}.product-table button[data-v-1f53ebec]{border:none;border-radius:.3rem;cursor:pointer;font-size:1.2rem;margin-right:.5rem;margin-top:.3rem;padding:.5rem 1rem}.product-thumb[data-v-1f53ebec]{border-radius:.5rem;height:2rem;-o-object-fit:cover;object-fit:cover;width:2rem}.variant-list[data-v-1f53ebec]{background:#fafafa;border:1px solid #eee;border-radius:.5rem;padding:1rem}.variant-list .variant-row[data-v-1f53ebec]{align-items:center;display:flex;font-size:1.2rem;gap:2rem;margin-bottom:1rem}.variant-list .variant-row div[data-v-1f53ebec]{display:flex;flex-direction:column}.variant-list .variant-row label[data-v-1f53ebec]{color:#444;font-size:.9rem;margin-bottom:.3rem}.pagination-nav[data-v-1f53ebec]{align-items:center;display:flex;gap:1rem;justify-content:center;margin:2rem 0}.pagination-nav button[data-v-1f53ebec]{background:#249b48;border:none;border-radius:.4rem;color:#fff;cursor:pointer;font-size:1.1rem;padding:.5rem 1rem}.pagination-nav button[data-v-1f53ebec]:disabled{background:#ccc;cursor:not-allowed}.pagination-nav span[data-v-1f53ebec]{font-size:1.2rem;font-weight:500}',""]),n.locals={},e.exports=n},470:function(e,t,r){"use strict";r.r(t);r(82),r(84),r(49);var n=r(29),o=r(9),d=(r(40),r(160),r(37),r(51),r(80),r(81),r(38),r(19),r(63),r(41),r(325),r(48),r(42),r(219),r(39),r(25));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={name:"AdminDashboard",data:function(){return{products:[],showAddProductForm:!1,newProduct:{name:"",generatedDescription:"",generatedCategoriesString:"",image:""},imageUploading:!1,variantImageUploading:{},productSubmitting:!1,searchQuery:"",page:1,limit:10,totalPages:1}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchProducts();case 2:case"end":return t.stop()}}),t)})))()},watch:{searchQuery:function(){this.page=1,this.fetchProducts()}},methods:{getAuthHeaders:function(){var e=localStorage.getItem("admin_token");return{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}},prevPage:function(){this.page>1&&(this.page--,this.fetchProducts())},nextPage:function(){this.page<this.totalPages&&(this.page++,this.fetchProducts())},onSearchInput:function(){console.log("Search:",this.searchQuery)},handleImageUpload:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.target.files[0]){r.next=3;break}return r.abrupt("return");case 3:return(o=new FormData).append("image",n),t.imageUploading=!0,r.prev=6,r.next=9,fetch("".concat(d.b,"/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("admin_token"))},body:o});case 9:return c=r.sent,r.next=12,Object(d.a)(c);case 12:return r.next=14,c.json();case 14:(data=r.sent).url?t.newProduct.image=data.url:Object(d.c)("Failed to upload image"),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(6),console.error("Image upload error:",r.t0),Object(d.c)(r.t0.message||"Image upload failed");case 22:return r.prev=22,t.imageUploading=!1,r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[6,18,22,25]])})))()},submitNewProduct:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,image,m,v,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.newProduct,n=r.name,o=r.generatedDescription,c=r.generatedCategoriesString,image=r.image,m=c.split(",").map((function(e){return e.trim()})),n&&image){t.next=5;break}return alert("Name and image are required"),t.abrupt("return");case 5:return e.productSubmitting=!0,t.prev=6,t.next=9,fetch("".concat(d.b,"/admin/create-product"),{method:"POST",headers:e.getAuthHeaders(),body:JSON.stringify({name:n,generatedDescription:o,generatedCategories:m,image:image})});case 9:return v=t.sent,t.next=12,Object(d.a)(v);case 12:return t.next=14,v.json();case 14:if(!(data=t.sent).error){t.next=17;break}return t.abrupt("return",alert(data.error));case 17:e.products.unshift(l(l({},data.product),{},{generatedCategoriesString:data.product.generatedCategories.join(", "),showVariants:!1,showAddVariantForm:!1,newVariant:{unit:"",price:0,availability:""}})),e.newProduct={name:"",generatedDescription:"",generatedCategoriesString:"",image:""},e.showAddProductForm=!1,t.next=26;break;case 22:t.prev=22,t.t0=t.catch(6),console.error("Add product error:",t.t0),alert("Failed to create product");case 26:return t.prev=26,e.productSubmitting=!1,t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,22,26,29]])})))()},logout:function(){localStorage.removeItem("admin_token"),this.$router.push("/admin/login")},fetchProducts:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new URLSearchParams({search:e.searchQuery,page:e.page,limit:e.limit}).toString(),t.next=4,fetch("".concat(d.b,"/admin/products-with-variants?").concat(r),{headers:e.getAuthHeaders()});case 4:return n=t.sent,t.next=7,Object(d.a)(n);case 7:return t.next=9,n.json();case 9:data=t.sent,e.products=(data.products||[]).map((function(p){return l(l({},p),{},{showVariants:!1,showAddVariantForm:!1,newVariant:{unit:"",price:0,availability:""},generatedCategoriesString:(p.generatedCategories||[]).join(", ")})})),e.totalPages=data.pages||1,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("Error loading products:",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},formatDate:function(e){return new Date(e).toLocaleDateString()},toggleVariants:function(e){this.products[e].showVariants=!this.products[e].showVariants},deleteProduct:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm("Are you sure you want to delete this product and its variants?")){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,fetch("".concat(d.b,"/admin/delete-product/").concat(e),{method:"DELETE",headers:t.getAuthHeaders()});case 5:return n=r.sent,r.next=8,Object(d.a)(n);case 8:n.ok?t.products=t.products.filter((function(p){return p._id!==e})):alert("Failed to delete product"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.error("Delete product error:",r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},deleteVariant:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm("Delete this variant?")){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,fetch("".concat(d.b,"/admin/delete-variant/").concat(t._id),{method:"DELETE",headers:r.getAuthHeaders()});case 5:return o=n.sent,n.next=8,Object(d.a)(o);case 8:o.ok?(e.variants=e.variants.filter((function(e){return e._id!==t._id})),e.variantCount--):alert("Failed to delete variant"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),console.error("Delete variant error:",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()},saveProduct:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n={name:e.name,image:e.image,generatedDescription:e.generatedDescription,generatedCategories:e.generatedCategoriesString.split(",").map((function(e){return e.trim()})),synced_to_algolia:e.synced_to_algolia},r.next=4,fetch("".concat(d.b,"/admin/update-product/").concat(e._id),{method:"PUT",headers:t.getAuthHeaders(),body:JSON.stringify(n)});case 4:return o=r.sent,r.next=7,Object(d.a)(o);case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error("Update error:",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},saveVariant:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={unit:t.unit,price:t.price,availability:t.availability,image:t.image||""},e.next=4,fetch("".concat(d.b,"/admin/update-variant/").concat(t._id),{method:"PUT",headers:r.getAuthHeaders(),body:JSON.stringify(n)});case 4:return o=e.sent,e.next=7,Object(d.a)(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Variant update error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},handleVariantImageUpload:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c,l,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.target.files[0]){n.next=3;break}return n.abrupt("return");case 3:return(c=new FormData).append("image",o),r.$set(r.variantImageUploading,e._id,!0),n.prev=6,n.next=9,fetch("".concat(d.b,"/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("admin_token"))},body:c});case 9:return l=n.sent,n.next=12,Object(d.a)(l);case 12:return n.next=14,l.json();case 14:(data=n.sent).url?e.newVariant.image=data.url:alert("Failed to upload variant image"),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(6),console.error("Variant image upload error:",n.t0),alert("Variant image upload failed");case 22:return n.prev=22,r.$set(r.variantImageUploading,e._id,!1),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[6,18,22,25]])})))()},submitNewVariant:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,image,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.newVariant,o=n.unit,c=n.price,l=n.availability,image=n.image,o&&c&&l&&image){r.next=4;break}return alert("Please fill all fields and upload an image."),r.abrupt("return");case 4:return r.prev=4,r.next=7,fetch("".concat(d.b,"/admin/add-variant/").concat(e._id),{method:"POST",headers:t.getAuthHeaders(),body:JSON.stringify({unit:o,price:c,availability:l,image:image})});case 7:return m=r.sent,r.next=10,Object(d.a)(m);case 10:return r.next=12,m.json();case 12:r.sent,alert("variant added"),e.showAddVariantForm=!1,r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),console.error("Add variant error:",r.t0),alert("Failed to add variant");case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()}}},v=(r(445),r(60)),component=Object(v.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"admin-dashboard"},[t("div",{staticClass:"dashboard-header"},[t("h1",[e._v("Admin Dashboard")]),e._v(" "),t("div",{staticClass:"dashboard-actions"},[t("button",{on:{click:function(t){e.showAddProductForm=!0}}},[e._v("Add Product")]),e._v(" "),t("button",{on:{click:e.logout}},[e._v("Logout")])])]),e._v(" "),t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Search products by name..."},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.fetchProducts]}})]),e._v(" "),e.showAddProductForm?t("div",{staticClass:"add-product-form-overlay"},[t("div",{staticClass:"add-product-form"},[t("h2",[e._v("Add New Product")]),e._v(" "),t("div",[t("label",[e._v("Name")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.name,expression:"newProduct.name"}],domProps:{value:e.newProduct.name},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"name",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Description")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.generatedDescription,expression:"newProduct.generatedDescription"}],domProps:{value:e.newProduct.generatedDescription},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"generatedDescription",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Categories (comma separated)")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newProduct.generatedCategoriesString,expression:"newProduct.generatedCategoriesString"}],domProps:{value:e.newProduct.generatedCategoriesString},on:{input:function(t){t.target.composing||e.$set(e.newProduct,"generatedCategoriesString",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Upload Image")]),e._v(" "),t("input",{attrs:{type:"file"},on:{change:e.handleImageUpload}}),e._v(" "),e.imageUploading?t("span",{staticClass:"loading-text"},[t("span",{staticClass:"spinner"}),e._v(" Uploading image...\n                ")]):e._e()]),e._v(" "),t("div",[t("button",{attrs:{disabled:e.imageUploading||e.productSubmitting},on:{click:e.submitNewProduct}},[e.productSubmitting?t("span",{staticClass:"spinner"}):e._e(),e._v("\n                    "+e._s(e.productSubmitting?"Submitting...":"Submit")+"\n                ")]),e._v(" "),t("button",{on:{click:function(t){e.showAddProductForm=!1}}},[e._v("Cancel")])])])]):e._e(),e._v(" "),t("table",{staticClass:"product-table"},[e._m(0),e._v(" "),t("tbody",[e._l(e.products,(function(r,n){return[t("tr",[t("td",[t("img",{staticClass:"product-thumb",attrs:{src:r.image||"/imgs/placeholder.png"}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.name,expression:"product.name"}],domProps:{value:r.name},on:{input:function(t){t.target.composing||e.$set(r,"name",t.target.value)}}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.generatedDescription,expression:"product.generatedDescription"}],domProps:{value:r.generatedDescription},on:{input:function(t){t.target.composing||e.$set(r,"generatedDescription",t.target.value)}}})]),e._v(" "),t("td",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.generatedCategoriesString,expression:"product.generatedCategoriesString"}],domProps:{value:r.generatedCategoriesString},on:{input:function(t){t.target.composing||e.$set(r,"generatedCategoriesString",t.target.value)}}})]),e._v(" "),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:r.synced_to_algolia,expression:"product.synced_to_algolia"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(r.synced_to_algolia)?e._i(r.synced_to_algolia,null)>-1:r.synced_to_algolia},on:{change:function(t){var n=r.synced_to_algolia,o=t.target,d=!!o.checked;if(Array.isArray(n)){var c=e._i(n,null);o.checked?c<0&&e.$set(r,"synced_to_algolia",n.concat([null])):c>-1&&e.$set(r,"synced_to_algolia",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(r,"synced_to_algolia",d)}}})]),e._v(" "),t("td",[e._v(e._s(r.variantCount))]),e._v(" "),t("td",[e._v(e._s(e.formatDate(r.createdAt)))]),e._v(" "),t("td",[e._v(e._s(e.formatDate(r.updatedAt)))]),e._v(" "),t("td",[t("button",{on:{click:function(t){return e.toggleVariants(n)}}},[e._v("\n                            "+e._s(r.showVariants?"Hide Variants":"Show Variants")+"\n                        ")]),e._v(" "),t("button",{attrs:{disabled:r.isSaving},on:{click:function(t){return e.saveProduct(r)}}},[r.isSaving?t("span",{staticClass:"spinner"}):e._e(),e._v(" Save\n                        ")]),e._v(" "),t("button",{on:{click:function(t){return e.deleteProduct(r._id)}}},[e._v("Delete")])])]),e._v(" "),r.showVariants?t("tr",[t("td",{attrs:{colspan:"9"}},[t("div",{staticClass:"variant-list"},[e._l(r.variants,(function(n){return t("div",{key:n._id,staticClass:"variant-row"},[t("div",[t("label",[e._v("Unit")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.unit,expression:"variant.unit"}],domProps:{value:n.unit},on:{input:function(t){t.target.composing||e.$set(n,"unit",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Price")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.price,expression:"variant.price",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:n.price},on:{input:function(t){t.target.composing||e.$set(n,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",[e._v("Availability")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.availability,expression:"variant.availability"}],domProps:{value:n.availability},on:{input:function(t){t.target.composing||e.$set(n,"availability",t.target.value)}}})]),e._v(" "),t("div",[t("button",{on:{click:function(t){return e.deleteVariant(r,n)}}},[e._v("Delete Variant")])]),e._v(" "),t("div",[t("button",{attrs:{disabled:n.isSaving},on:{click:function(t){return e.saveVariant(r._id,n)}}},[n.isSaving?t("span",{staticClass:"spinner"}):e._e(),e._v(" Save\n                                    ")])])])})),e._v(" "),t("button",{on:{click:function(e){r.showAddVariantForm=!r.showAddVariantForm}}},[e._v("\n                                "+e._s(r.showAddVariantForm?"Cancel":"Add New Variant")+"\n                            ")]),e._v(" "),r.showAddVariantForm?t("div",{staticClass:"add-variant-form"},[t("h4",[e._v("Add New Variant")]),e._v(" "),t("div",{staticClass:"variant-row"},[t("div",[t("label",[e._v("Unit")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.newVariant.unit,expression:"product.newVariant.unit"}],domProps:{value:r.newVariant.unit},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"unit",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Price")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.newVariant.price,expression:"product.newVariant.price",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:r.newVariant.price},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",[e._v("Availability")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:r.newVariant.availability,expression:"product.newVariant.availability"}],domProps:{value:r.newVariant.availability},on:{input:function(t){t.target.composing||e.$set(r.newVariant,"availability",t.target.value)}}})]),e._v(" "),t("div",[t("label",[e._v("Upload Image")]),e._v(" "),t("input",{attrs:{type:"file"},on:{change:function(t){return e.handleVariantImageUpload(r,t)}}}),e._v(" "),e.variantImageUploading[r._id]?t("span",{staticClass:"loading-text"},[t("span",{staticClass:"spinner"}),e._v(" Uploading image...\n                                        ")]):e._e()]),e._v(" "),t("div",[t("button",{attrs:{disabled:e.variantImageUploading[r._id]},on:{click:function(t){return e.submitNewVariant(r)}}},[e._v("\n                                            Submit\n                                        ")])])])]):e._e()],2)])]):e._e()]}))],2)]),e._v(" "),t("div",{staticClass:"pagination-nav"},[t("button",{attrs:{disabled:e.page<=1},on:{click:e.prevPage}},[e._v("Previous")]),e._v(" "),t("span",[e._v("Page "+e._s(e.page)+" of "+e._s(e.totalPages))]),e._v(" "),t("button",{attrs:{disabled:e.page>=e.totalPages},on:{click:e.nextPage}},[e._v("Next")])])])}),[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Image")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Description")]),e._v(" "),t("th",[e._v("Categories")]),e._v(" "),t("th",[e._v("Synced")]),e._v(" "),t("th",[e._v("Variant Count")]),e._v(" "),t("th",[e._v("Created")]),e._v(" "),t("th",[e._v("Updated")]),e._v(" "),t("th",[e._v("Actions")])])])}],!1,null,"1f53ebec",null);t.default=component.exports}}]);